---
title: 数据库：分布式事务的 7 种技术方案
pay: https://articles.zsxq.com/id_0gns08lfv9o3.html
---

#  数据库：分布式事务的 7 种技术方案

> 作者：Tom哥
> <br/>公众号：微观技术
> <br/> 博客：[https://offercome.cn](https://offercome.cn)
> <br/> 人生理念：知道的越多，不知道的越多，努力去学


随着业务的快速发展、业务复杂度越来越高，系统也由早期的单体架构走向分布式，特别是转向微服务架构，随之而来就会遇到分布式事务这个难题

## 什么是分布式事务？

我们就以电商网站的下单系统为例：
订单系统收到用户请求，需要为用户创建一笔交易订单，这个过程需要与库存系统 、优惠券系统 有一些交互处理

- 1、调用库存系统的 RPC 接口锁定库存
- 2、调用调用营销系统的 RPC 接口锁定优惠券
- 3、订单系统自身在 MySQL 订单表里插入一系列订单的数据

<div align="left">
    <img src="https://offercome.cn/images/pay/arch/16-1.png" width="450px">
</div>


每个微服务系统都有自己单独的数据库。假如最后环节，插入订单表时出现了异常，但是前面的库存和优惠券都已经被锁定了，那就有问题了

<div align="left">
    <img src="https://offercome.cn/images/pay/arch/16-2.png" width="450px">
</div>


> 事务有四个特性：原子性、一致性、隔离性、持久性。